(window.webpackJsonp=window.webpackJsonp||[]).push([[0],{228:function(e,t,a){e.exports=a.p+"static/media/orinda-books-logo.8a02731f.png"},231:function(e,t,a){e.exports=a(452)},416:function(e,t,a){},452:function(e,t,a){"use strict";a.r(t);var n=a(0),l=a.n(n),r=a(225),c=a.n(r),i=a(5),o=a(41),s=a(1),u=a(7);var m=function(e){var t=e.onClick;return l.a.createElement("button",{className:"login-button",type:"Submit",onClick:t},"Login")};var d=Object(s.b)(function(e){return{auth_error:e.auth.auth_error}},{logIn:function(e){return function(t,a,n){(0,n.getFirebase)().auth().signInWithEmailAndPassword(e.email,e.password).then(function(){t({type:"LOGIN_SUCCESS"})}).catch(function(e){t({type:"LOGIN_ERROR",payload:e})})}}})(function(e){var t=e.auth_error,a=e.logIn,r=Object(n.useState)(""),c=Object(u.a)(r,2),i=c[0],o=c[1],s=Object(n.useState)(""),d=Object(u.a)(s,2),E=d[0],f=d[1];function p(e){"email"===e.target.type?o(e.target.value):"password"===e.target.type&&f(e.target.value)}return l.a.createElement(l.a.Fragment,null,l.a.createElement("form",{className:"landing-input-group"},l.a.createElement("input",{className:"landing-input-username",type:"email",placeholder:"use: example@example.com",name:"usn",required:!0,onChange:function(e){return p(e)}}),l.a.createElement("input",{className:"landing-input-password",type:"password",placeholder:"use: password",name:"psw",required:!0,onChange:function(e){return p(e)}}),l.a.createElement("div",{className:"auth-error-group"},t?l.a.createElement("h4",null,"Login Error: ",t.message):null),l.a.createElement(m,{onClick:function(e){return function(e){e.preventDefault(),a({email:i,password:E})}(e)}})))});var E=Object(s.b)(function(e){return{auth:e.firebase.auth}})(function(e){return e.auth.uid?l.a.createElement(o.a,{to:"/dashboard"}):l.a.createElement("div",{className:"landing-container"},l.a.createElement("h1",null,"Orinda Books"),l.a.createElement(d,null))}),f=function(e){return{type:"VIEW_ITEM",payload:e}},p=function(e){return{type:"TOGGLE_MODAL",payload:e}};var b=Object(s.b)(function(e){return{view_item:e.modal.view_item}},{logOut:function(){return function(e,t,a){(0,a.getFirebase)().auth().signOut().then(function(){return e({type:"LOGOUT_SUCCESS"})})}},resetPassword:function(e){return function(t,a,n){(0,n.getFirebase)().auth().currentUser.updatePassword(e).then(function(){console.log("update successful")}).catch(function(e){t({type:"PASSWORD_RESET_ERROR",payload:e})})}},setViewingItem:f,toggleModal:p})(function(e){var t=e.logOut,a=e.resetPassword,n=e.toggleModal,r=e.view_item;return l.a.createElement("div",{className:"logout-modal-content"},l.a.createElement("h4",null,"Warning"),l.a.createElement("p",null,"This action will log you out of the application. Are you sure you want to continue?"),l.a.createElement("div",{className:"logout-modal-button-group"},l.a.createElement("i",{className:"fas fa-check fa-2x",onClick:function(){return r&&a(r),t(),void n("")}}),l.a.createElement("i",{className:"fas fa-times fa-2x",onClick:function(){n("")}})))});var v=Object(s.b)(null,{toggleModal:p})(function(e){var t=e.toggleModal;return l.a.createElement("i",{className:"fas fa-times X-button",onClick:function(){return t()}})});var g=Object(s.b)(null,{setViewingItem:f,toggleModal:p})(function(e){var t=e.setViewingItem,a=e.toggleModal;return Object(n.useEffect)(function(){return document.addEventListener("click",function e(t){return t.target.contains(document.querySelector(".logout-modal-overlay"))&&(a(""),document.removeEventListener("click",e)),function(){document.removeEventListener("click",e)}}),function(){t("")}}),l.a.createElement("div",{className:"logout-modal-overlay"},l.a.createElement("div",{className:"logout-modal-container"},l.a.createElement(v,null),l.a.createElement(b,null)))}),h=a(228),N=a.n(h);var y=function(e){var t=e.className,a=e.onClick;return l.a.createElement("img",{src:N.a,className:"home-logo ".concat(t),alt:"profile",onClick:a})};var O=function(){return l.a.createElement("ul",null,l.a.createElement("li",null,l.a.createElement(i.b,{to:"/profile"},l.a.createElement("span",null,"Profile")," ",l.a.createElement("i",{className:"fas fa-user"}))),l.a.createElement("li",null,l.a.createElement(i.b,{to:"/tasks"},l.a.createElement("span",null,"Tasks")," ",l.a.createElement("i",{className:"fas fa-feather-alt"}))),l.a.createElement("li",null,l.a.createElement(i.b,{to:"/events"},l.a.createElement("span",null,"Events")," ",l.a.createElement("i",{className:"fas fa-calendar-alt"}))),l.a.createElement("li",null,l.a.createElement(i.b,{to:"/settings"},l.a.createElement("span",null,"Settings")," ",l.a.createElement("i",{className:"fas fa-cog"}))))};var j=Object(s.b)(null,{toggleModal:p})(function(e){var t=e.toggleModal;return l.a.createElement("div",{className:"logout",onClick:function(){return t()}},l.a.createElement("span",null,"Logout")," ",l.a.createElement("i",{className:"fas fa-power-off"}))});var k=function(){return l.a.createElement("div",{className:"dashboard-sidebar-container font-secondary"},l.a.createElement(y,{className:"dashboard-home-logo"}),l.a.createElement(O,null),l.a.createElement(j,null))};var w=function(e){var t=e.value;return l.a.createElement("h2",{className:"text-theme-blue"},t)},_=a(93),S=a.n(_);var C=function(){return l.a.createElement(i.b,{to:"/orders",className:"dashboard-widget-container dashboard-orders-widget-container"},l.a.createElement("img",{src:S.a,className:"small-widget-pic",alt:"orders"}),l.a.createElement(w,{value:"Orders"}))},I=a(94),F=a.n(I);var x=function(){return l.a.createElement(i.b,{to:"/staff",className:"dashboard-widget-container dashboard-staff-widget-container"},l.a.createElement("img",{src:F.a,className:"small-widget-pic staff-widget-pic",alt:"staff"}),l.a.createElement(w,{value:"Staff"}))},M=a(95),L=a.n(M);var D=function(){return l.a.createElement(i.b,{to:"/sales",className:"dashboard-widget-container dashboard-sales-widget-container"},l.a.createElement("img",{src:L.a,className:"small-widget-pic",alt:"sales"}),l.a.createElement(w,{value:"Sales"}))},T=a(96),A=a.n(T);var V=function(){return l.a.createElement(i.b,{to:"/inventory",className:"dashboard-widget-container dashboard-inventory-widget-container"},l.a.createElement("img",{src:A.a,className:"large-widget-pic",alt:"inventory"}),l.a.createElement(w,{value:"Inventory"}))},q=a(47),R=a.n(q);var P=function(){return l.a.createElement(i.b,{to:"/search",className:"dashboard-widget-container dashboard-search-widget-container"},l.a.createElement("img",{src:R.a,className:"large-widget-pic",alt:"search"}),l.a.createElement(w,{value:"Search"}))};function B(){return l.a.createElement("div",{className:"dashboard-widgets-container"},l.a.createElement(C,null),l.a.createElement(x,null),l.a.createElement(D,null),l.a.createElement(V,null),l.a.createElement(P,null))}var U=Object(s.b)(function(e){return{auth:e.firebase.auth,modal_open:e.modal.modal_open}},null)(function(e){var t,a=e.auth.uid,n=e.modal_open;return a?(n&&(t=l.a.createElement(g,null)),l.a.createElement("div",{className:"full-page-container dashboard-container"},t,l.a.createElement(k,null),l.a.createElement(B,null))):l.a.createElement(o.a,{to:"/"})});var H=function(e){var t=e.id,a=e.onClick;return l.a.createElement("button",{className:"edit-button",id:t,onClick:a},"Edit")};var G=Object(o.f)(function(e){var t=e.location.pathname;return l.a.createElement("ul",{className:"text-theme-blue"},"/profile"===t||"/profile/edit"===t||l.a.createElement("li",null,l.a.createElement(i.b,{to:"/profile"},l.a.createElement("i",{className:"fas fa-user fa-2x"}))),"/tasks"===t||l.a.createElement("li",null,l.a.createElement(i.b,{to:"/tasks"},l.a.createElement("i",{className:"fas fa-feather-alt fa-2x"}))," "),"/events"===t||l.a.createElement("li",null,l.a.createElement(i.b,{to:"/events"},l.a.createElement("i",{className:"fas fa-calendar-alt fa-2x"}))," "),"/settings"===t||"/settings/edit"===t||l.a.createElement("li",null,l.a.createElement(i.b,{to:"/settings"},l.a.createElement("i",{className:"fas fa-cog fa-2x"}))," "))});var Y=function(){return l.a.createElement("div",{className:"icon-sidebar-container font-secondary"},l.a.createElement(G,null),l.a.createElement(i.b,{to:"/dashboard"},l.a.createElement("i",{className:"fas fa-home fa-2x"})))};var W=function(e){var t=e.value;return l.a.createElement("h2",{className:"profile-page-title font-secondary"},t," ",l.a.createElement("span",null,"Profile"===t||"Edit Profile"===t?l.a.createElement("i",{className:"fas fa-user"}):"Tasks"===t?l.a.createElement("i",{className:"fas fa-feather-alt"}):"Events"===t?l.a.createElement("i",{className:"fas fa-calendar-alt"}):l.a.createElement("i",{className:"fas fa-cog"})))};var Q=Object(s.b)(function(e){return{photoUrl:e.firebase.profile.photoUrl}})(function(e){var t,a=e.className,n=e.photoUrl;return t=n?l.a.createElement("img",{src:n,className:a,alt:"profile"}):l.a.createElement("div",null),l.a.createElement(l.a.Fragment,null,t)});var z=Object(s.b)(function(e){return{profile:e.firebase.profile}})(function(e){var t=e.profile,a=t.firstName,n=t.lastName,r=t.email,c=t.phone,i=t.position;return l.a.createElement("div",{className:"profile-details-container"},l.a.createElement("div",{className:"profile-info"},l.a.createElement("p",null,l.a.createElement("span",null,"Name:"),"\xa0\xa0\xa0\xa0\xa0",a," ",n),l.a.createElement("p",null,l.a.createElement("span",null,"Position:"),"\xa0\xa0\xa0\xa0\xa0",i),l.a.createElement("p",null,l.a.createElement("span",null,"Email:"),"\xa0\xa0\xa0\xa0\xa0 ",r),l.a.createElement("p",null,l.a.createElement("span",null,"Phone:"),"\xa0\xa0\xa0\xa0\xa0 ",c)),l.a.createElement(Q,{className:"profile-page-img"}))});var J=Object(s.b)(function(e){return{uid:e.firebase.auth.uid}})(function(e){var t=e.history.push;return e.uid?l.a.createElement("div",{className:"full-page-container"},l.a.createElement(Y,null),l.a.createElement("div",{className:"main-section-container"},l.a.createElement(W,{value:"Profile"}),l.a.createElement("div",{className:"profile-related-content-container profile-page-content-container"},l.a.createElement(z,null),l.a.createElement(H,{onClick:function(){return t("/profile/edit")}})))):l.a.createElement(o.a,{to:"/"})}),X=a(30),K=a(31),Z=a(34),$=a(32),ee=a(33),te=a(2);function ae(e){var t=e.className;return l.a.createElement("input",{type:"submit",value:"Save",className:"".concat(t," save-button")})}ae.defaultProps={className:""};var ne=ae,le=function(e){function t(e){var a;return Object(X.a)(this,t),(a=Object(Z.a)(this,Object($.a)(t).call(this,e))).firstNameInput=l.a.createRef(),a.lastNameInput=l.a.createRef(),a.emailInput=l.a.createRef(),a.positionInput=l.a.createRef(),a.phoneInput=l.a.createRef(),a.balanceInput=l.a.createRef(),a}return Object(ee.a)(t,e),Object(K.a)(t,[{key:"onSubmitHandler",value:function(e){e.preventDefault();var t=this.props,a=t.firebase,n=t.history.push,l={firstName:this.firstNameInput.current.value,lastName:this.lastNameInput.current.value,email:this.emailInput.current.value,position:this.positionInput.current.value,phone:this.phoneInput.current.value};a.updateProfile(l),n("/profile")}},{key:"render",value:function(){var e=this,t=this.props.profile,a=t.firstName,n=t.lastName,r=t.email,c=t.phone,i=t.position;return l.a.createElement(l.a.Fragment,null,l.a.createElement("form",{className:"edit-profile-form",onSubmit:function(t){return e.onSubmitHandler(t)}},l.a.createElement("div",{className:"label-input-group"},l.a.createElement("label",{htmlFor:"firstName"},"First Name: "),l.a.createElement("input",{type:"text",name:"firstName",defaultValue:a,ref:this.firstNameInput})),l.a.createElement("div",{className:"label-input-group"},l.a.createElement("label",{htmlFor:"lastName"},"Last Name: "),l.a.createElement("input",{type:"text",name:"lastName",defaultValue:n,ref:this.lastNameInput})),l.a.createElement("div",{className:"label-input-group"},l.a.createElement("label",{htmlFor:"position"},"Position: "),l.a.createElement("input",{type:"text",name:"position",defaultValue:i,ref:this.positionInput})),l.a.createElement("div",{className:"label-input-group"},l.a.createElement("label",{htmlFor:"email"},"Email: "),l.a.createElement("input",{type:"text",name:"email",defaultValue:r,ref:this.emailInput})),l.a.createElement("div",{className:"label-input-group"},l.a.createElement("label",{htmlFor:"mobile"},"Mobile: "),l.a.createElement("input",{type:"number",name:"phone",defaultValue:c,ref:this.phoneInput})),l.a.createElement(ne,{type:"submit"})))}}]),t}(n.Component),re=Object(te.firebaseConnect)()(Object(o.f)(le));var ce=Object(s.b)(function(e){var t=e.firebase,a=t.auth.uid;return{profile:t.profile,uid:a}})(function(e){var t=e.profile;return e.uid?l.a.createElement("div",{className:"full-page-container"},l.a.createElement(Y,{pathname:"/profile"}),l.a.createElement("div",{className:"main-section-container"},l.a.createElement(W,{value:"Edit Profile"}),l.a.createElement("div",{className:"profile-related-content-container profile-page-content-container"},l.a.createElement(re,{profile:t})))):l.a.createElement(o.a,{to:"/"})}),ie=a(3),oe=a(97),se=a.n(oe),ue=function(e){if(e){var t=new Date,a=t.getMonth()+1,n=t.getDate(),l=t.getFullYear()+1;return n<10&&(n="0".concat(n)),a<10&&(a="0".concat(a)),t="".concat(n,"/").concat(a,"/").concat(l)}var r=new Date,c=r.getMonth()+1,i=r.getDate(),o=r.getFullYear();return i<10&&(i="0".concat(i)),c<10&&(c="0".concat(c)),r="".concat(i,"/").concat(c,"/").concat(o)},me=function(e){var t,a=e.toString().split(""),n=a[8]+a[9];switch(a[4]+a[5]+a[6]){case"Jan":t="01";break;case"Feb":t="02";break;case"Mar":t="03";break;case"Apr":t="04";break;case"May":t="05";break;case"Jun":t="06";break;case"Jul":t="07";break;case"Aug":t="08";break;case"Sep":t="09";break;case"Oct":t="10";break;case"Nov":t="11";break;case"Dec":t="12";break;default:return}var l=a[11]+a[12]+a[13]+a[14];return"".concat(n,"/").concat(t,"/").concat(l)},de=function(e){return!!e.match(/^\w{1,2}\/\w{1,2}\/\w{4}$/)};function Ee(e){var t=e.id;return l.a.createElement("input",{type:"submit",value:"Add",className:"add-button",id:t})}Ee.defaultProps={id:""};var fe=Ee;var pe=Object(ie.d)(Object(s.b)(function(e){var t=e.firebase,a=t.auth.uid;return{tasks:t.profile.tasks,uid:a}},{toggleModal:p}),Object(te.firestoreConnect)())(function(e){var t=e.firestore,a=e.tasks,r=e.toggleModal,c=e.uid,i=Object(n.useState)(),o=Object(u.a)(i,2),s=o[0],m=o[1],d=Object(n.useState)(),E=Object(u.a)(d,2),f=E[0],p=E[1],b=Object(n.useState)(),v=Object(u.a)(b,2),g=v[0],h=v[1];return l.a.createElement(l.a.Fragment,null,l.a.createElement("h3",null,"New Task"),l.a.createElement("form",{onSubmit:function(e){return function(e){if(e.preventDefault(),!de(f))return document.getElementById("deadlineInput").classList="warning-input",void(document.querySelector(".input-warning-message").style.display="block");a.push({title:s,deadline:f,notes:g||null,checked:!1,id:se()()});var n={tasks:a};t.update({collection:"users",doc:c},n),r()}(e)}},l.a.createElement("input",{type:"text",name:"title",className:"title-input",placeholder:"Title",required:!0,onChange:function(e){return m(e.target.value)}}),l.a.createElement("input",{id:"deadlineInput",type:"text",name:"deadline",className:"deadline-input",placeholder:"Deadline: dd/mm/yyyy",required:!0,onChange:function(e){return p(e.target.value)}}),l.a.createElement("p",{className:"input-warning-message"},"Please check again, your current date format is incorrect."),l.a.createElement("textarea",{maxLength:"100",name:"notes",className:"notes-input",placeholder:"Notes",onChange:function(e){return h(e.target.value)}}),l.a.createElement(fe,{id:"inputAddButton"})))}),be=function(e){function t(e){var a;return Object(X.a)(this,t),(a=Object(Z.a)(this,Object($.a)(t).call(this,e))).titleInput=l.a.createRef(),a.deadlineInput=l.a.createRef(),a.notesInput=l.a.createRef(),a}return Object(ee.a)(t,e),Object(K.a)(t,[{key:"onSubmitHandler",value:function(e){var t=this;e.preventDefault();var a=this.props,n=a.firestore,l=a.tasks,r=a.toggleModal,c=a.uid,i=a.view_item;if(!de(this.deadlineInput.current.value))return document.getElementById("deadlineInput").classList="warning-input",void(document.querySelector(".input-warning-message").style.display="block");var o={tasks:l.map(function(e){return e.id===i.id?{title:t.titleInput.current.value,deadline:t.deadlineInput.current.value,notes:t.notesInput.current.value,checked:!1,id:se()()}:e})};r(),n.update({collection:"users",doc:c},o)}},{key:"render",value:function(){var e=this,t=this.props.view_item,a=t.title,n=t.deadline,r=t.notes;return l.a.createElement(l.a.Fragment,null,l.a.createElement("h3",null,"New Task"),l.a.createElement("form",{onSubmit:function(t){return e.onSubmitHandler(t)}},l.a.createElement("input",{type:"text",name:"title",className:"title-input",defaultValue:a,ref:this.titleInput}),l.a.createElement("input",{id:"deadlineInput",type:"text",name:"deadline",className:"deadline-input",defaultValue:n,ref:this.deadlineInput}),l.a.createElement("p",{className:"input-warning-message"},"Please check again, your current date format is incorrect."),l.a.createElement("textarea",{maxLength:"100",name:"notes",className:"notes-input",defaultValue:r,ref:this.notesInput}),l.a.createElement(ne,null)))}}]),t}(n.Component),ve=Object(ie.d)(Object(te.firestoreConnect)(),Object(s.b)(function(e){var t=e.firebase,a=t.auth.uid;return{tasks:t.profile.tasks,uid:a,view_item:e.modal.view_item}},{toggleModal:p}))(be);var ge=Object(ie.d)(Object(te.firestoreConnect)(),Object(s.b)(function(e){var t=e.firebase.auth.uid;return{tasks:e.firebase.profile.tasks,uid:t}},{toggleModal:p}))(function(e){var t=e.className,a=e.firestore,n=e.modal,r=e.tasks,c=e.title,i=e.toggleModal,o=e.uid;return l.a.createElement("i",{className:"fas fa-check ".concat(t||""),onClick:function(){return function(){n&&i();var e={tasks:r.map(function(e){return e.title===c&&(e.checked=!e.checked),e})};a.update({collection:"users",doc:o},e)}()}})});var he=Object(ie.d)(Object(te.firestoreConnect)(),Object(s.b)(function(e){var t=e.firebase.auth.uid;return{tasks:e.firebase.profile.tasks,uid:t}},{toggleModal:p}))(function(e){var t=e.firestore,a=e.modal,n=e.tasks,r=e.title,c=e.toggleModal,i=e.uid;return l.a.createElement("i",{className:"fas fa-trash",onClick:function(){return function(){a&&c();var e={tasks:n.filter(function(e){return e.title!==r})};t.update({collection:"users",doc:i},e)}()}})});var Ne=Object(s.b)(null,{toggleModal:p,setModalType:function(e){return{type:"SET_MODAL_TYPE",payload:e}},setViewingItem:f})(function(e){var t=e.modal,a=e.task,n=e.toggleModal,r=e.setModalType,c=e.setViewingItem;return l.a.createElement("i",{className:"fas fa-pen",onClick:function(){return c(a),void(t?r("edit"):n("edit"))}})});var ye=Object(s.b)(function(e){return{view_item:e.modal.view_item}})(function(e){var t=e.view_item,a=e.view_item,n=a.checked,r=a.deadline,c=a.notes,i=a.title;return l.a.createElement("div",{className:"view-task-modal-content"},l.a.createElement("h3",null,i),l.a.createElement("h5",null,"Deadline: ",r),l.a.createElement("h4",null,"Notes"),c?l.a.createElement("p",null,c):l.a.createElement("p",{className:"empty-notes-title"},"This task currently has no notes"),l.a.createElement("div",{className:"view-task-icon-group"},n||l.a.createElement(ge,{title:i,modal:!0}),l.a.createElement(Ne,{task:t,modal:!0}),l.a.createElement(he,{title:i,modal:!0})))});var Oe=Object(ie.d)(Object(te.firestoreConnect)(),Object(s.b)(function(e){return{modal_type:e.modal.modal_type}},{toggleModal:p}))(function(e){var t,a=e.modal_type,r=e.toggleModal;return Object(n.useEffect)(function(){document.addEventListener("click",function e(t){return t.target.contains(document.querySelector(".modal-overlay"))&&(r(""),document.removeEventListener("click",e)),function(){document.removeEventListener("click",e)}})}),"add"===a?t=l.a.createElement(pe,null):"view"===a?t=l.a.createElement(ye,null):"edit"===a&&(t=l.a.createElement(ve,null)),l.a.createElement("div",{className:"modal-overlay"},l.a.createElement("div",{className:"profile-modal-content task-modal-content"},l.a.createElement(v,null),t))});var je=Object(s.b)(null,{setViewingItem:f,toggleModal:p})(function(e){var t=e.setViewingItem,a=e.task,n=e.task,r=n.checked,c=n.deadline,i=n.title,o=e.toggleModal;return l.a.createElement("div",{className:"task-card",onClick:function(e){return function(e){".task-card"!==e.target.classList&&".pin-group"!==e.target.classList&&"H4"!==e.target.nodeName||(t(a),o("view"))}(e)}},l.a.createElement("div",{className:"pin-group"},l.a.createElement("i",{className:"fas fa-map-pin fa-2x"}),l.a.createElement("i",{className:"fas fa-map-pin fa-2x"})),l.a.createElement("h4",null,i," ",l.a.createElement("br",null),l.a.createElement("br",null)," Deadline: ",c),r&&l.a.createElement(ge,{className:"fa-2x",title:i}),l.a.createElement("div",{className:"task-card-icon-group"},r||l.a.createElement(ge,{title:i}),l.a.createElement(Ne,{task:a}),l.a.createElement(he,{title:i})))});var ke=Object(s.b)(null,{toggleModal:p})(function(e){var t=e.toggleModal;return l.a.createElement("div",{className:"empty-tasks-group"},l.a.createElement("h2",{className:"tasks-empty-tasks-title font-secondary"},"You have no current tasks!"),l.a.createElement("i",{className:"fas fa-plus fa-2x",onClick:function(){return t()}}))});var we=function(e){var t=e.onClick;return l.a.createElement("i",{className:"fas fa-plus fa-2x",onClick:t})};var _e=Object(s.b)(null,{toggleModal:p})(function(e){var t=e.toggleModal;return l.a.createElement("div",{className:"task-card add-task-card",onClick:function(){return t("add")}},l.a.createElement("div",{className:"add-task-card-content"},l.a.createElement("h3",{className:"font-secondary"},"Click here to add a new task!"),l.a.createElement(we,null)))});var Se=Object(s.b)(function(e){return{tasks:e.firebase.profile.tasks}})(function(e){var t,a=e.tasks;return t=a?l.a.createElement(l.a.Fragment,null,l.a.createElement(_e,null),a.map(function(e){return l.a.createElement(je,{key:e.title,task:e})})):l.a.createElement(ke,null),l.a.createElement("div",{className:"profile-related-content-container tasks-page-content-container"},t)});var Ce=Object(s.b)(function(e){var t=e.firebase.auth.uid;return{modal_open:e.modal.modal_open,uid:t}})(function(e){var t,a=e.modal_open,n=e.uid;return n?(a&&(t=l.a.createElement(Oe,{uid:n})),l.a.createElement("div",{className:"full-page-container"},t,l.a.createElement(Y,null),l.a.createElement("div",{className:"main-section-container"},l.a.createElement(W,{value:"Tasks"}),l.a.createElement(Se,null)))):l.a.createElement(o.a,{to:"/"})}),Ie=a(229),Fe=a.n(Ie);var xe=Object(s.b)(null,{setDetailEvent:function(e){return{type:"DETAIL_EVENT",payload:e}}})(function(e){var t=e.events,a=e.setDetailEvent;if(t)var n=t.reduce(function(e,t){return e.push(t.dateOf),e},[]);return l.a.createElement(Fe.a,{className:"events-calendar",minDetail:"month",onClickDay:function(e){return function(e){a(t.filter(function(t){return t.dateOf===me(e)}))}(e)},showNeighboringMonth:!1,tileContent:function(e){var a=e.date;if(t){var r,c=me(a);return n.forEach(function(e){e===c&&(r=l.a.createElement("p",{className:"event-circle"},"\xa0"))}),r}}})});var Me=Object(s.b)(function(e){return{detail_event:e.events.detail_event}},{setViewingItem:f,toggleModal:p})(function(e){var t,a=e.detail_event,n=e.setViewingItem,r=e.toggleModal;return t=a?a.length?l.a.createElement("div",{className:"detail-event-container"},a.map(function(e){var t=e.dateOf,a=e.title,c=e.time;return l.a.createElement("div",{className:"detail-event-group",onClick:function(t){return function(e,t){e.preventDefault(),n(t),r("view")}(t,e)},key:e.id},l.a.createElement("p",{className:"event-date-label"},t),l.a.createElement("p",null,a),l.a.createElement("p",null,l.a.createElement("span",null,"Starts at:")," ",c))}),l.a.createElement(we,{onClick:function(){return r("add")}})):l.a.createElement("div",{className:"empty-detail-event-group"},l.a.createElement("h3",{className:"empty-detail-event-title font-secondary"},"No events currently planned on this date!"),l.a.createElement(we,{onClick:function(){return r("add")}})):l.a.createElement(l.a.Fragment,null,l.a.createElement("h3",{className:"empty-detail-event-title font-secondary"},"Click on a calendar event to view details or add an event!"),l.a.createElement(we,{onClick:function(){return r("add")}})),l.a.createElement("div",{className:"event-specific-container"},l.a.createElement("h2",{className:"font-secondary"},"Event"),t)});var Le=function(){return l.a.createElement("span",{className:"lds-dual-ring "})};var De=function(e){var t,a,n=e.events;if(n){var r=ue().split("/").reverse().join(""),c=n.filter(function(e){return e.dateOf.split("/").reverse().join("")>=r});c.length?(t=c.sort(function(e,t){var a=e.dateOf.split("/").reverse().join(),n=t.dateOf.split("/").reverse().join();return a<n?-1:a>n?1:0}),a=l.a.createElement("div",{className:"upcoming-events-content"},l.a.createElement("p",null,"Next 3 events:"),t.map(function(e){var t=e.id,a=e.dateOf,n=e.title;return l.a.createElement("p",{key:t},l.a.createElement("span",null,a),": ",n)}))):a=l.a.createElement("h3",{className:"empty-detail-event-title font-secondary"},"You currently have no upcoming events!")}else a=l.a.createElement("div",{className:"spinner-container"},l.a.createElement(Le,null));return l.a.createElement("div",{className:"events-upcoming-container"},l.a.createElement("h2",{className:"font-secondary"},"Upcoming"),a)};var Te=Object(ie.d)(Object(s.b)(function(e){var t=e.firestore.ordered.events;return t?{events:t}:{}}),Object(te.firestoreConnect)([{collection:"events"}]))(function(e){var t=e.events;return l.a.createElement("div",{className:"profile-related-content-container events-content-container"},l.a.createElement(xe,{events:t}),l.a.createElement("div",{className:"event-info-container"},l.a.createElement(De,{events:t}),l.a.createElement(Me,null)))});var Ae=Object(ie.d)(Object(s.b)(null,{toggleModal:p}),Object(te.firestoreConnect)())(function(e){var t=e.firestore,a=e.toggleModal,r=Object(n.useState)(),c=Object(u.a)(r,2),i=c[0],o=c[1],s=Object(n.useState)(),m=Object(u.a)(s,2),d=m[0],E=m[1],f=Object(n.useState)(),p=Object(u.a)(f,2),b=p[0],v=p[1],g=Object(n.useState)(),h=Object(u.a)(g,2),N=h[0],y=h[1];return l.a.createElement(l.a.Fragment,null,l.a.createElement("h3",null,"New Event"),l.a.createElement("form",{onSubmit:function(e){return function(e){if(e.preventDefault(),!de(N))return document.getElementById("dateOfInput").classList="warning-input",void(document.querySelector(".input-warning-message").style.display="block");var n={title:i,time:d,dateOf:N,notes:b||""};t.add({collection:"events"},n),a()}(e)},className:"event-add-modal-form"},l.a.createElement("input",{type:"text",name:"title",onChange:function(e){return o(e.target.value)},placeholder:"Title",required:!0}),l.a.createElement("input",{type:"text",name:"dateOf",id:"dateOfInput",onChange:function(e){return y(e.target.value)},placeholder:"dd / mm / yyyy",required:!0}),l.a.createElement("p",{className:"input-warning-message"},"Please check again, your current date format is incorrect."),l.a.createElement("input",{type:"time",name:"time",id:"dateOfInput",onChange:function(e){return E(e.target.value)},placeholder:"time",required:!0}),l.a.createElement("textarea",{name:"notes",cols:"30",rows:"10",placeholder:"Notes",onChange:function(e){return v(e.target.value)}}),l.a.createElement(fe,null)))});var Ve=Object(s.b)(function(e){return{view_item:e.modal.view_item}})(function(e){var t=e.view_item,a=t.dateOf,n=t.notes,r=t.time,c=t.title;return l.a.createElement("div",{className:"view-event-modal-content"},l.a.createElement("h3",null,c),l.a.createElement("p",null,l.a.createElement("span",null,"Date: "),a),l.a.createElement("p",null,l.a.createElement("span",null,"Starts At: "),r),l.a.createElement("h4",null,"Notes"),l.a.createElement("p",null,n))});var qe=Object(s.b)(function(e){return{modal_type:e.modal.modal_type}},{setViewingItem:f,toggleModal:p})(function(e){var t,a=e.modal_type,r=e.setViewingItem,c=e.toggleModal;return Object(n.useEffect)(function(){return document.addEventListener("click",function e(t){return t.target.contains(document.querySelector(".modal-overlay"))&&(c(),document.removeEventListener("click",e)),function(){document.removeEventListener("click",e)}}),function(){r("")}}),"add"===a?t=l.a.createElement(Ae,null):"view"===a&&(t=l.a.createElement(Ve,null)),l.a.createElement("div",{className:"modal-overlay"},l.a.createElement("div",{className:"profile-modal-content event-add-modal-content"},l.a.createElement(v,null),t))});var Re=Object(s.b)(function(e){var t=e.firebase.auth.uid;return{modal_open:e.modal.modal_open,uid:t}})(function(e){var t,a=e.modal_open;return e.uid?(a&&(t=l.a.createElement(qe,null)),l.a.createElement("div",{className:"full-page-container"},t,l.a.createElement(Y,null),l.a.createElement("div",{className:"main-section-container"},l.a.createElement(W,{value:"Events"}),l.a.createElement(Te,null)))):l.a.createElement(o.a,{to:"/"})}),Pe=function(e){return{type:"SET_EDIT_TYPE",payload:e}};var Be=Object(ie.d)(Object(te.firebaseConnect)(),Object(s.b)(function(e){return{edit_type:e.edit.edit_type,firebase:e.firebase}},{setEditType:Pe,setViewingItem:f,toggleModal:p}))(Object(o.f)(function(e){var t=e.edit_type,a=e.firebase.auth.email,r=e.history.push,c=e.setEditType,i=e.setViewingItem,o=e.toggleModal,s=Object(n.useState)(),m=Object(u.a)(s,2),d=m[0],E=m[1];return t?l.a.createElement(l.a.Fragment,null,l.a.createElement("form",{onSubmit:function(e){return function(e){if(e.preventDefault(),!d||d.length<7)return document.getElementById("passwordInput").classList="warning-input",document.querySelector(".input-warning-message").style.display="block",void setTimeout(function(){document.getElementById("passwordInput").classList="",document.querySelector(".input-warning-message").style.display="none"},3e3);i(d),o()}(e)},className:"settings-user-form text-theme-blue"},l.a.createElement("p",null,l.a.createElement("span",null,"Email:\xa0\xa0\xa0\xa0\xa0"),a),l.a.createElement("div",{className:"label-input-group"},l.a.createElement("label",{htmlFor:"language"},"Password:"),l.a.createElement("input",{id:"passwordInput",type:"text",onChange:function(e){return E(e.target.value)}})),l.a.createElement("p",{className:"input-warning-message"},"Please check again, you must enter a password 7 characters or longer."),l.a.createElement(ne,null))):l.a.createElement(l.a.Fragment,null,l.a.createElement("div",{className:"settings-email-password"},l.a.createElement("p",null,l.a.createElement("span",null,"Email:"),"\xa0\xa0\xa0\xa0\xa0",a),l.a.createElement("p",null,l.a.createElement("span",null,"Password:"),"\xa0\xa0\xa0\xa0\xa0*******")),!t&&l.a.createElement(H,{id:"userSettings",onClick:function(){return c(!0),void r("/settings/edit")}}))}));var Ue=Object(s.b)(function(e){return{uid:e.firebase.auth.uid}},{setEditType:Pe})(function(e){var t=e.setEditType,a=e.uid;return Object(n.useEffect)(function(){if(!a)return l.a.createElement(o.a,{to:"/"});t(!1)}),l.a.createElement("div",{className:"full-page-container"},l.a.createElement(Y,null),l.a.createElement("div",{className:"main-section-container"},l.a.createElement(W,{value:"Settings"}),l.a.createElement("div",{className:"settings-container"},l.a.createElement("div",{className:"settings-content"},l.a.createElement(Be,null)))))});var He=Object(s.b)(function(e){var t=e.firebase.auth.uid;return{modal_open:e.modal.modal_open,uid:t}})(function(e){var t,a=e.modal_open,n=e.uid;return n?(a&&(t=l.a.createElement(g,null)),l.a.createElement("div",{className:"full-page-container"},t,l.a.createElement(Y,null),l.a.createElement("div",{className:"main-section-container"},l.a.createElement(W,{value:"Edit Settings"}),l.a.createElement("div",{className:"settings-content-container settings-container"},l.a.createElement("div",{className:"settings-content"},l.a.createElement(Be,{uid:n})))))):l.a.createElement(o.a,{to:"/"})});var Ge=function(e){var t=e.value;return l.a.createElement("h2",{className:"admin-page-title"},t)};var Ye=Object(s.b)(null,{toggleModal:p})(function(e){var t=e.toggleModal;return l.a.createElement("div",{className:"add-order-group",onClick:function(){t("add")}},l.a.createElement("h2",null,"Add Order"),l.a.createElement(we,null))});var We=Object(o.f)(function(e){var t=e.history.push,a=Object(n.useState)(!1),r=Object(u.a)(a,2),c=r[0],o=r[1];return l.a.createElement("div",{className:"dropdown-navigation"},l.a.createElement("div",{className:"dropdown-triggers"},l.a.createElement("div",{className:"home-logo-group"},l.a.createElement(y,{onClick:function(){t("/dashboard")}}),l.a.createElement("h4",null,"Orinda Books")),l.a.createElement("i",{className:"fas fa-sort-down",onClick:function(){var e=document.querySelector("#dropdown-menu");c||(e.style.display="inherit",o(!0),document.addEventListener("click",function t(a){a.preventDefault(),"a"!==a.target.tagName.toLowerCase()&&(e.style.display="none",o(!1)),document.removeEventListener("click",t)}))}})),l.a.createElement("ul",{id:"dropdown-menu"},l.a.createElement("li",null,l.a.createElement(i.b,{to:"/profile"},"Profile")),l.a.createElement("li",null,l.a.createElement(i.b,{to:"/tasks"},"Tasks")),l.a.createElement("li",null,l.a.createElement(i.b,{to:"/events"},"Events")),l.a.createElement("li",null,l.a.createElement(i.b,{to:"/settings"},"Settings"))))});var Qe=function(e){var t=e.onClick;return l.a.createElement("button",{className:"view-details-button",onClick:t},"View")};var ze=Object(s.b)(null,{setViewingItem:f,toggleModal:p})(function(e){var t=e.item,a=e.item,n=a.date,r=a.book,c=a.quantity,i=e.setViewingItem,o=e.toggleModal;return l.a.createElement("tr",null,l.a.createElement("td",null,n),l.a.createElement("td",null,r.title),l.a.createElement("td",null,c),l.a.createElement("td",null,l.a.createElement(Qe,{onClick:function(){return i(t),void o("filled-view")},className:"inventory-view-details-button"})))});var Je=Object(ie.d)(Object(s.b)(function(e){var t=e.firestore.ordered.filledOrders;return t?{filledOrders:t}:{}}),Object(te.firestoreConnect)([{collection:"filledOrders"}]))(function(e){var t=e.filledOrders;return l.a.createElement("tbody",null,Object(te.isLoaded)(t)?Object(te.isEmpty)(t)?l.a.createElement("tr",null,l.a.createElement("td",{className:"empty-table-cell"},l.a.createElement("h4",null,"You have no Filled Orders"))):t.map(function(e){return l.a.createElement(ze,{item:e,key:e.id})}):l.a.createElement("tr",{className:"spinner-row"},l.a.createElement("td",{className:"spinner-cell"},l.a.createElement(Le,null))))});var Xe=Object(ie.d)(Object(s.b)(function(e){var t=e.firestore.ordered.filledFiltered;return t?{filledFiltered:t}:{}}),Object(te.firestoreConnect)())(function(e){var t=e.filledFiltered,a=e.searchVal;return l.a.createElement("tbody",null,Object(te.isLoaded)(t)?Object(te.isEmpty)(t)?l.a.createElement("tr",null,l.a.createElement("td",{className:"empty-table-cell"},l.a.createElement("h4",null,a," returned no results!"))):t.map(function(e){return l.a.createElement(ze,{item:e,key:e.id})}):l.a.createElement("tr",{className:"spinner-row"},l.a.createElement("td",{className:"spinner-cell"},l.a.createElement(Le,null))))});var Ke=function(){return l.a.createElement("thead",null,l.a.createElement("tr",{className:"orders-table-headings"},l.a.createElement("td",null,"Date"),l.a.createElement("td",null,"Books"),l.a.createElement("td",null,"Quantity"),l.a.createElement("td",null)))};var Ze=Object(s.b)(function(e){var t=e.search;return{search_value:t.search_value,secondary_search_value:t.secondary_search_value}})(function(e){var t=e.secondary_search_value;return t?l.a.createElement("table",null,l.a.createElement(Ke,null),l.a.createElement(Xe,{searchVal:t})):l.a.createElement("table",null,l.a.createElement(Ke,null),l.a.createElement(Je,null))});var $e=Object(s.b)(null,{toggleModal:p})(function(e){var t=e.toggleModal;return l.a.createElement("button",{className:"modal-close-button bg-theme-yellow text-theme-blue",onClick:function(){return t()}},"Close")}),et=a(98);var tt=function(e){var t=e.books,a=Object(n.useState)([]),r=Object(u.a)(a,2),c=r[0],i=r[1];if(Object(n.useEffect)(function(){t&&i(t.reduce(function(e,t){return e.filter(function(e){return e.subgenre===t.subgenre}).length?(e.map(function(e){return e.subgenre===t.subgenre?(e.total++,e):e}),e):(e.push({subgenre:t.subgenre,total:1}),e)},[]))},[t]),c.length){var o=c.reduce(function(e,t){return e.push(t.subgenre),e},[]),s={datasets:[{backgroundColor:["#45546c","#5cb85c","#ffde59","#d2c7ff","#d9534f","#FFA500"],data:c.reduce(function(e,t){return e.push(t.total),e},[])}],labels:o};return l.a.createElement("div",{className:"chart-container"},l.a.createElement(et.a,{data:s,options:{legend:{boxWidth:"20",fontFamily:"Montserrat",fontSize:"16",position:"left"}}}))}return l.a.createElement(Le,null)};var at=Object(ie.d)(Object(s.b)(function(e){var t=e.firestore.ordered.books;return t?{books:t}:{}}),Object(te.firestoreConnect)([{collection:"books",orderBy:["author"]}]))(function(e){var t=e.books,a=Object(n.useState)(0),r=Object(u.a)(a,2),c=r[0],i=r[1],o=Object(n.useState)(0),s=Object(u.a)(o,2),m=s[0],d=s[1],E=Object(n.useState)(0),f=Object(u.a)(E,2),p=f[0],b=f[1],v=Object(n.useState)(0),g=Object(u.a)(v,2),h=g[0],N=g[1];return Object(n.useEffect)(function(){i(t.reduce(function(e,t){return e+t.quantity},0)),d(t.length),b(t.reduce(function(e,t){return(parseFloat(t.salePrice.substring(1))*t.quantity+parseFloat(e)).toFixed(2)},0)),N(t.reduce(function(e,t){return t.quantity>e.quantity&&(e=t),e},{quantity:0}))},[t]),l.a.createElement(l.a.Fragment,null,l.a.createElement("h1",{className:"inventory-summary-modal-title"},"Summary"),l.a.createElement("div",{className:"modal-summary-content"},l.a.createElement("div",{className:"modal-summary-group-container"},l.a.createElement("div",{className:"modal-summary-info"},l.a.createElement("h3",null,"Info"),l.a.createElement("p",null,l.a.createElement("span",{className:"item-label"},"Quantity:\xa0\xa0")," ",c," books"),l.a.createElement("p",null,l.a.createElement("span",{className:"item-label"},"Total Titles:\xa0\xa0")," ",m),l.a.createElement("p",null,l.a.createElement("span",{className:"item-label"},"Sale Value:\xa0\xa0")," \xa3",p),l.a.createElement("p",null,l.a.createElement("span",{className:"item-label"},"Average Price:\xa0\xa0")," ",(p/c).toFixed(2)),l.a.createElement("p",null,l.a.createElement("span",{className:"item-label"},"Most Stocked:\xa0\xa0")," ",h.title,", ",h.author)),l.a.createElement(tt,{books:t})),l.a.createElement($e,null)))});var nt=Object(s.b)(function(e){return{view_item:e.modal.view_item}},null)(function(e){var t=e.view_item,a=t.title,n=t.author,r=t.genre,c=t.publicationDate,i=t.imageLocation,o=t.isbn,s=t.salePrice,u=t.quantity;return l.a.createElement(l.a.Fragment,null,l.a.createElement("h1",{className:"inventory-view-modal-title text-theme-blue"},"Details"),l.a.createElement("div",{className:"modal-view-content"},l.a.createElement("img",{src:i,className:"modal-view-image",alt:"book"}),l.a.createElement("div",{className:"modal-view-item-info text-theme-blue"},l.a.createElement("p",null,l.a.createElement("span",{className:"item-label"},"Title: "),"\xa0\xa0",a),l.a.createElement("p",null,l.a.createElement("span",{className:"item-label"},"Author: "),"\xa0\xa0",n),l.a.createElement("p",null,l.a.createElement("span",{className:"item-label"},"Genre: "),"\xa0\xa0",r),l.a.createElement("p",null,l.a.createElement("span",{className:"item-label"},"ISBN: "),"\xa0\xa0",o),l.a.createElement("p",null,l.a.createElement("span",{className:"item-label"},"Sale Price: "),"\xa0\xa0",s),l.a.createElement("p",null,l.a.createElement("span",{className:"item-label"},"Publication Date: "),"\xa0\xa0",c),l.a.createElement("p",null,l.a.createElement("span",{className:"item-label"},"In Stock: "),"\xa0\xa0",u)),l.a.createElement($e,null)))});var lt=Object(s.b)(function(e){return{modal_type:e.modal.modal_type}},null)(function(e){var t;switch(e.modal_type){case"summary":t=l.a.createElement(at,null);break;case"view":t=l.a.createElement(nt,null);break;default:return}return l.a.createElement("div",{className:"inventory-modal"},t)});var rt=Object(ie.d)(Object(te.firebaseConnect)(),Object(te.firestoreConnect)(),Object(s.b)(null,{toggleModal:p}))(function(e){var t=e.firebase,a=e.firestore,r=e.toggleModal,c=Object(n.useState)(),i=Object(u.a)(c,2),o=i[0],s=i[1],m=Object(n.useState)(),d=Object(u.a)(m,2),E=d[0],f=d[1],p=Object(n.useState)(),b=Object(u.a)(p,2),v=b[0],g=b[1],h=Object(n.useState)(),N=Object(u.a)(h,2),y=N[0],O=N[1],j=Object(n.useState)(),k=Object(u.a)(j,2),w=k[0],_=k[1],S=Object(n.useState)(),C=Object(u.a)(S,2),I=C[0],F=C[1],x=Object(n.useState)(),M=Object(u.a)(x,2),L=M[0],D=M[1];return l.a.createElement("form",{onSubmit:function(e){return function(e){e.preventDefault(e),r();var n=t.storage().ref("images/".concat(L.name)).put(L);n.on("state_changed",null,function(e){console.warn(e)},function(){n.snapshot.ref.getDownloadURL().then(function(e){var t={dateAdded:ue(),dob:y,email:v,firstName:o,fullName:"".concat(o," ").concat(E),imageLocation:e,position:w,permissions:I,surname:E};a.add({collection:"staff"},t)})})}(e)},className:"add-staff-form"},l.a.createElement("div",{className:"staff-input-group"},l.a.createElement("h2",null,"New Staff Member"),l.a.createElement("div",{className:"staff-form-group"},l.a.createElement("div",{className:"member-info"},l.a.createElement("div",{className:"member-names-group"},l.a.createElement("div",{className:"label-input-group"},l.a.createElement("label",{htmlFor:"firstName"},"First Name:"),l.a.createElement("input",{type:"text",name:"First Name",onChange:function(e){return s(e.target.value)},required:!0})),l.a.createElement("div",{className:"label-input-group"},l.a.createElement("label",{htmlFor:"surname"},"Surname:"),l.a.createElement("input",{type:"text",name:"surname",onChange:function(e){return f(e.target.value)},required:!0}))," "),l.a.createElement("div",{className:"member-email-dob-group"},l.a.createElement("div",{className:"label-input-group"},l.a.createElement("label",{htmlFor:"email"},"Email:"),l.a.createElement("input",{type:"text",name:"email",onChange:function(e){return g(e.target.value)},required:!0})),l.a.createElement("div",{className:"label-input-group"},l.a.createElement("label",{htmlFor:"dob"},"Date of Birth:"),l.a.createElement("input",{type:"date",name:"dob",onChange:function(e){return O(e.target.value)},required:!0}))),l.a.createElement("div",{className:"member-permissions-position-group"},l.a.createElement("div",{className:"label-input-group"},l.a.createElement("label",{htmlFor:"position"},"Position:"),l.a.createElement("input",{type:"text",name:"position",onChange:function(e){return _(e.target.value)},required:!0})),l.a.createElement("div",{className:"permissions-label-input-group"},l.a.createElement("label",{htmlFor:"permissions"},"Permissions:"),l.a.createElement("div",{className:"permissions-inputs-labels"},l.a.createElement("div",{className:"radio-input-label-group"},l.a.createElement("input",{type:"radio",name:"permissions",onChange:function(e){return F(e.target.value)},required:!0}),l.a.createElement("label",{htmlFor:"permissions"},"All")),l.a.createElement("div",{className:"radio-input-label-group"},l.a.createElement("input",{type:"radio",name:"permissions",onChange:function(e){return F(e.target.value)},required:!0}),l.a.createElement("label",{htmlFor:"permissions"},"Regular")))))),l.a.createElement("div",{className:"member-photo"},l.a.createElement("div",{className:"label-input-group"},l.a.createElement("label",{htmlFor:"firstName"},"Upload Photo:"),l.a.createElement("input",{type:"file",name:"photo",onChange:function(e){return D(e.target.files[0])},required:!0})))),l.a.createElement("input",{className:"add-button",type:"submit",value:"Add"})))});var ct=Object(s.b)(null,{toggleModal:p})(function(e){var t=e.className,a=e.onClick,n=e.value;return l.a.createElement("button",{onClick:a,className:"link-button ".concat(t)},n)}),it=function(e){function t(e){var a;return Object(X.a)(this,t),(a=Object(Z.a)(this,Object($.a)(t).call(this,e))).firstNameInput=l.a.createRef(),a.surnameInput=l.a.createRef(),a.emailInput=l.a.createRef(),a.dobInput=l.a.createRef(),a.positionInput=l.a.createRef(),a}return Object(ee.a)(t,e),Object(K.a)(t,[{key:"clickHandler",value:function(e){e.preventDefault(),this.props.setEditType("")}},{key:"onSubmitHandler",value:function(e){e.preventDefault();var t=this.props,a=t.firestore,n=t.setEditType,l=t.view_item,r=l.dateAdded,c=l.dob,i=l.email,o=l.firstName,s=l.id,u=l.imageLocation,m=l.permissions,d=l.position,E=l.surname;a.delete({collection:"staff",doc:s});var f={dateAdded:r,dob:this.dobInput.current.value||c,email:this.emailInput.current.value||i,firstName:this.firstNameInput.current.value||o,imageLocation:u,position:this.positionInput.current.value||d,permissions:m,surname:this.surnameInput.current.value||E};a.add({collection:"staff"},f).then(function(){return n("")})}},{key:"render",value:function(){var e=this,t=this.props.view_item,a=t.email,n=t.firstName,r=t.surname,c=t.dob,i=t.position;return l.a.createElement(l.a.Fragment,null,l.a.createElement("form",{className:"edit-member-form",onSubmit:function(t){return e.onSubmitHandler(t)}},l.a.createElement("div",{className:"label-input-group"},l.a.createElement("label",{htmlFor:"firstName"},"First Name: "),l.a.createElement("input",{type:"text",name:"firstName",defaultValue:n,ref:this.firstNameInput})),l.a.createElement("div",{className:"label-input-group"},l.a.createElement("label",{htmlFor:"surname"},"Surname: "),l.a.createElement("input",{type:"text",name:"surname",defaultValue:r,ref:this.surnameInput})),l.a.createElement("div",{className:"label-input-group"},l.a.createElement("label",{htmlFor:"email"},"Email: "),l.a.createElement("input",{type:"text",name:"email",defaultValue:a,ref:this.emailInput})),l.a.createElement("div",{className:"label-input-group"},l.a.createElement("label",{htmlFor:"position"},"Position: "),l.a.createElement("input",{type:"text",name:"position",defaultValue:i,ref:this.positionInput})),l.a.createElement("div",{className:"label-input-group"},l.a.createElement("label",{htmlFor:"dob"},"DoB: "),l.a.createElement("input",{type:"text",name:"dob",defaultValue:c,ref:this.dobInput})),l.a.createElement("div",{className:"edit-member-button-group"},l.a.createElement(ne,{type:"submit"}),l.a.createElement(ct,{type:"button",value:"Cancel",onClick:function(t){return e.clickHandler(t)}}))))}}]),t}(n.Component),ot=Object(ie.d)(Object(s.b)(function(e){return{view_item:e.modal.view_item}},{setEditType:Pe}),Object(te.firestoreConnect)())(it);var st=Object(s.b)(function(e){return{view_item:e.modal.view_item}},{setEditType:Pe})(function(e){var t=e.setEditType,a=e.view_item,r=a.firstName,c=a.surname;return Object(n.useEffect)(function(){return function(){t("")}}),l.a.createElement("div",{className:"staff-edit-modal"},l.a.createElement("h1",{className:"edit-member-title"},"Editing"," ",l.a.createElement("span",null,r," ",c)),l.a.createElement(ot,null))});var ut=Object(ie.d)(Object(s.b)(null,{toggleModal:p}),Object(te.firestoreConnect)())(function(e){var t=e.firestore,a=e.member.id,n=e.toggleModal;return l.a.createElement("i",{className:"fas fa-trash",onClick:function(){return n(),void t.delete({collection:"staff",doc:a})}})});var mt=Object(s.b)(function(e){return{edit_type:e.edit.edit_type,permissions:e.firebase.profile.permissions,view_item:e.modal.view_item}},{setEditType:Pe})(function(e){var t=e.permissions,a=e.setEditType,n=e.view_item,r=e.view_item,c=r.id,i=r.dateAdded,o=r.dob,s=r.email,u=r.firstName,m=r.imageLocation,d=r.position,E=r.surname;return l.a.createElement("div",{className:"staff-view-modal-container"},l.a.createElement("div",null,l.a.createElement("h1",{className:"staff-view-modal-title"},u," ",E," ",l.a.createElement("span",null,l.a.createElement(ut,{member:n}))),l.a.createElement("h5",null,c)),l.a.createElement("div",{className:"staff-modal-view-content"},l.a.createElement("img",{src:m,className:"staff-modal-view-image",alt:"book"}),l.a.createElement("div",{className:"modal-view-item-info"},l.a.createElement("p",null,s),l.a.createElement("p",null,d),l.a.createElement("p",null,"DoB: ",o),l.a.createElement("p",null,"Added to Database: ",i))),l.a.createElement("div",{className:"staff-modal-view-button-group"},l.a.createElement($e,null),"all"===t&&l.a.createElement(ct,{value:"Edit",onClick:function(){return a("edit_member")}})))});var dt=Object(s.b)(function(e){return{edit_type:e.edit.edit_type}})(function(e){var t;return t="edit_member"===e.edit_type?l.a.createElement(st,null):l.a.createElement(mt,null),l.a.createElement(l.a.Fragment,null,t)});var Et=Object(s.b)(function(e){return{modal_type:e.modal.modal_type}})(function(e){var t;switch(e.modal_type){case"view":t=l.a.createElement(dt,null);break;case"add":t=l.a.createElement(rt,null);break;default:return l.a.createElement("div",null)}return l.a.createElement(l.a.Fragment,null,t)});var ft=Object(ie.d)(Object(te.firestoreConnect)(),Object(s.b)(function(e){return{view_item:e.modal.view_item}},{toggleModal:p}))(function(e){var t=e.view_item,a=t.id,n=t.company,r=t.filledDate,c=t.date,i=t.quantity,o=t.book,s=o.title,u=o.author,m=o.genre,d=o.subgenre,E=o.isbn,f=e.firestore,p=e.toggleModal;return l.a.createElement("div",{className:"orders-view-modal"},l.a.createElement("div",{className:"orders-view-modal-titles"},l.a.createElement("h1",null,s),l.a.createElement("h5",null,"Company: ",n),l.a.createElement("h5",null,"Receipt ID: ",a)),l.a.createElement("div",{className:"orders-view-modal-content"},l.a.createElement("div",{className:"orders-view-modal-book"},l.a.createElement("h3",null,"Info"),l.a.createElement("p",null,l.a.createElement("span",{className:"order-label"},"Author:\xa0\xa0"),u),l.a.createElement("p",null,l.a.createElement("span",{className:"order-label"},"Title:\xa0\xa0")," ",s),l.a.createElement("p",null,l.a.createElement("span",{className:"order-label"},"ISBN:\xa0\xa0")," ",E," "),l.a.createElement("p",null,l.a.createElement("span",{className:"order-label"},"Genre:\xa0\xa0"),m," (",d,")")),l.a.createElement("div",{className:"orders-view-modal-receipt"},l.a.createElement("h3",null,"Receipt"),l.a.createElement("p",null,l.a.createElement("span",{className:"order-label"},"Company:\xa0\xa0")," ",n),l.a.createElement("p",null,l.a.createElement("span",{className:"order-label"},"ID:\xa0\xa0")," ",a),l.a.createElement("p",null,l.a.createElement("span",{className:"order-label"},"Sent:\xa0\xa0")," ",c),l.a.createElement("p",null,l.a.createElement("span",{className:"order-label"},"Filled:\xa0\xa0")," ",r),l.a.createElement("p",null,l.a.createElement("span",{className:"order-label"},"Quantity:\xa0\xa0"),i))),l.a.createElement("div",{className:"orders-view-modal-buttons"},l.a.createElement($e,null),l.a.createElement(ct,{className:"text-theme-red",value:"Remove from Database",onClick:function(){return p(),void f.delete({collection:"filledOrders",doc:a})}})))});var pt=Object(ie.d)(Object(te.firestoreConnect)(),Object(s.b)(function(e){return{view_item:e.modal.view_item}},{toggleModal:p}))(function(e){var t=e.view_item,a=t.id,n=t.company,r=t.toBeFilled,c=t.date,i=t.quantity,o=t.book,s=o.title,u=o.author,m=o.genre,d=o.subgenre,E=o.isbn,f=o.publicationDate,p=e.firestore,b=e.toggleModal;return l.a.createElement("div",{className:"orders-view-modal"},l.a.createElement("div",{className:"orders-view-modal-titles"},l.a.createElement("h1",null,s),l.a.createElement("h5",null,"Company: ",n),l.a.createElement("h5",null,"Receipt ID: ",a)),l.a.createElement("div",{className:"orders-view-modal-content"},l.a.createElement("div",{className:"orders-view-modal-book"},l.a.createElement("h3",null,"Info"),l.a.createElement("p",null,l.a.createElement("span",{className:"order-label"},"Author:\xa0\xa0")," ",u),l.a.createElement("p",null,l.a.createElement("span",{className:"order-label"},"Title:\xa0\xa0")," ",s),l.a.createElement("p",null,l.a.createElement("span",{className:"order-label"},"ISBN:\xa0\xa0")," ",E," "),l.a.createElement("p",null,l.a.createElement("span",{className:"order-label"},"Genre:\xa0\xa0")," ",m," (",d,")")),l.a.createElement("div",{className:"orders-view-modal-receipt"},l.a.createElement("h3",null,"Receipt"),l.a.createElement("p",null,l.a.createElement("span",{className:"order-label"},"Company:\xa0\xa0")," ",n),l.a.createElement("p",null,l.a.createElement("span",{className:"order-label"},"ID:\xa0\xa0")," ",a),l.a.createElement("p",null,l.a.createElement("span",{className:"order-label"},"Sent:\xa0\xa0")," ",c),l.a.createElement("p",null,l.a.createElement("span",{className:"order-label"},"Expected Arrival:\xa0\xa0")," ",r),l.a.createElement("p",null,l.a.createElement("span",{className:"order-label"},"Quantity:\xa0\xa0")," ",i))),l.a.createElement("div",{className:"orders-view-modal-buttons"},l.a.createElement($e,null),l.a.createElement(ct,{className:"text-theme-red",value:"Mark Filled",onClick:function(){return function(){var e={book:{author:u,title:s,isbn:E,genre:m,subgenre:d,publicationDate:f},company:n,date:c,filledDate:ue(),quantity:i};b(),p.delete({collection:"unfilledOrders",doc:a}).then(p.add({collection:"filledOrders"},e))}()}})))});var bt=Object(ie.d)(Object(te.firestoreConnect)(),Object(s.b)(null,{toggleModal:p}))(function(e){var t=e.firestore,a=e.toggleModal,r=Object(n.useState)(),c=Object(u.a)(r,2),i=c[0],o=c[1],s=Object(n.useState)(),m=Object(u.a)(s,2),d=m[0],E=m[1],f=Object(n.useState)(),p=Object(u.a)(f,2),b=p[0],v=p[1],g=Object(n.useState)(),h=Object(u.a)(g,2),N=h[0],y=h[1],O=Object(n.useState)(),j=Object(u.a)(O,2),k=j[0],w=j[1],_=Object(n.useState)(),S=Object(u.a)(_,2),C=S[0],I=S[1],F=Object(n.useState)(),x=Object(u.a)(F,2),M=x[0],L=x[1],D=Object(n.useState)(),T=Object(u.a)(D,2),A=T[0],V=T[1];return l.a.createElement("form",{onSubmit:function(e){return function(e){e.preventDefault(e);var n=document.querySelector(".input-warning-message"),l=b.toString().length,r=document.getElementById("isbnInput"),c=document.getElementById("quantityInput");if(13!==l||!parseInt(M))return n.style.display="block",13!==l?(n.innerHTML="Please check again, all ISBNs must be 13 digits.",r.classList="warning-input",void setTimeout(function(){n.style.display="none",r.classList=""},3e3)):(c.classList="warning-input",n.innerHTML="Please check again, the quantity should be greater than zero.",void setTimeout(function(){n.style.display="none",c.classList=""},3e3));var o={book:{author:i,title:d,isbn:parseInt(b),publicationDate:parseInt(N),genre:k,subgenre:C},quantity:parseInt(M),company:A,date:ue(),toBeFilled:ue("filled")};t.add({collection:"unfilledOrders"},o),a()}(e)},className:"add-order-form"},l.a.createElement("div",{className:"book-input-group"},l.a.createElement("h2",null,"Book"),l.a.createElement("div",{className:"order-form-group"},l.a.createElement("div",{className:"label-input-group"},l.a.createElement("label",{htmlFor:"Author"},"Author:"),l.a.createElement("input",{type:"text",name:"Author",onChange:function(e){return o(e.target.value)},required:!0})),l.a.createElement("div",{className:"label-input-group"},l.a.createElement("label",{htmlFor:"Title"},"Title:"),l.a.createElement("input",{type:"text",name:"Title",onChange:function(e){return E(e.target.value)},required:!0})),l.a.createElement("div",{className:"label-input-group"},l.a.createElement("label",{htmlFor:"ISBN"},"ISBN:"),l.a.createElement("input",{type:"number",name:"ISBN",id:"isbnInput",onChange:function(e){return v(e.target.value)},required:!0})),l.a.createElement("div",{className:"label-input-group"},l.a.createElement("label",{htmlFor:"Publication Date"},"Published:"),l.a.createElement("input",{type:"number",min:"1000",max:"2019",name:"Publication Date",onChange:function(e){return y(e.target.value)},required:!0}))),l.a.createElement("div",{className:"order-form-group"},l.a.createElement("div",{className:"label-input-group"},l.a.createElement("input",{type:"radio",name:"genre",value:"fiction",onChange:function(e){return w(e.target.value)},required:!0}),l.a.createElement("label",{htmlFor:"fiction"},"Fiction")),l.a.createElement("div",{className:"label-input-group"},l.a.createElement("input",{type:"radio",name:"genre",value:"non-fiction",onChange:function(e){return w(e.target.value)},required:!0}),l.a.createElement("label",{htmlFor:"fiction"},"Non-Fiction")),l.a.createElement("div",{className:"label-input-group"},l.a.createElement("label",{htmlFor:"Sub Genre"},"Sub Genre:"),l.a.createElement("input",{type:"text",name:"Sub Genre",onChange:function(e){return I(e.target.value)},required:!0})))),l.a.createElement("div",{className:"order-input-group"},l.a.createElement("h2",null,"Order"),l.a.createElement("div",{className:"order-form-group last-group"},l.a.createElement("div",{className:"label-input-group"},l.a.createElement("label",{htmlFor:"quantity"},"Quantity:"),l.a.createElement("input",{type:"number",max:"100",min:"0",name:"Quantity",onChange:function(e){return L(e.target.value)},id:"quantityInput"})),l.a.createElement("div",{className:"label-input-group"},l.a.createElement("label",{htmlFor:"company"},"Company:"),l.a.createElement("input",{type:"text",name:"company",onChange:function(e){return V(e.target.value)},required:!0})))),l.a.createElement("p",{className:"input-warning-message"}),l.a.createElement("input",{className:"add-button",type:"submit",value:"Add"}))});var vt=Object(s.b)(function(e){return{modal_type:e.modal.modal_type}},null)(function(e){var t;switch(e.modal_type){case"filled-view":t=l.a.createElement(ft,null);break;case"unfilled-view":t=l.a.createElement(pt,null);break;case"add":t=l.a.createElement(bt,null);break;default:return}return l.a.createElement("div",{className:"orders-modal"},t)});var gt=Object(ie.d)(Object(te.firestoreConnect)(),Object(s.b)(function(e){return{view_item:e.modal.view_item}},{toggleModal:p}));var ht=Object(o.f)(function(e){var t;switch(e.location.pathname){case"/inventory":t=l.a.createElement(lt,null);break;case"/staff":t=l.a.createElement(Et,null);break;case"/orders":t=l.a.createElement(vt,null);break;case"/sales":t=l.a.createElement(gt,null);break;default:return}return l.a.createElement(l.a.Fragment,null,t)});var Nt=Object(s.b)(null,{setViewingItem:f,toggleModal:p})(function(e){var t=e.setViewingItem,a=e.toggleModal;return Object(n.useEffect)(function(){return document.addEventListener("click",function e(t){return t.target.contains(document.querySelector(".modal-overlay"))&&(a(""),document.removeEventListener("click",e)),function(){document.removeEventListener("click",e)}}),function(){t("")}}),l.a.createElement("div",{className:"modal-overlay"},l.a.createElement("div",{className:"modal-content"},l.a.createElement(v,null),l.a.createElement(ht,null)))});var yt=function(e){var t=e.onClick;return l.a.createElement("img",{src:R.a,onClick:t,className:"search-icon",alt:"search"})},Ot=function(e){return{type:"SEARCH_VALUE",payload:e}};var jt=Object(ie.d)(Object(s.b)(null,{setSearchValue:Ot,setSecondarySearchValue:function(e){return{type:"SECONDARY_SEARCH_VALUE",payload:e}}}),Object(te.firestoreConnect)())(function(e){var t=e.firestore,a=e.placeholder,r=e.second,c=e.setSearchValue,i=e.setSecondarySearchValue,o=e.type;function s(e,a){switch(a?i(e.target.value):c(e.target.value),o){case"inventory":t.get({collection:"books",where:["author","==",e.target.value],storeAs:"authorFiltered"}),t.get({collection:"books",where:["title","==",e.target.value],storeAs:"titleFiltered"});break;case"unfilled":t.get({collection:"unfilledOrders",where:["date","==",e.target.value],storeAs:"unfilledFiltered"});break;case"filled":t.get({collection:"filledOrders",where:["date","==",e.target.value],storeAs:"filledFiltered"});break;default:return}}return Object(n.useEffect)(function(){return function(){c(""),i("")}}),l.a.createElement("div",{className:"search-group"},r?l.a.createElement("input",{className:"search-input",onChange:function(e){return s(e,!0)},placeholder:a,type:"text"}):l.a.createElement("input",{className:"search-input",onChange:function(e){return s(e)},placeholder:a,type:"text"}),l.a.createElement(yt,{onClick:function(){return function(){var e;document.querySelector(".active-input")||((e=r?document.querySelectorAll(".search-input")[1]:document.querySelectorAll(".search-input")[0])&&(e.className="active-input"),document.addEventListener("click",function e(t){var a=document.querySelector(".active-input");a&&t.target!==a&&t.target!==a.nextElementSibling&&(a.value="",a.className="search-input",document.removeEventListener("click",e))}))}()}}))});var kt=Object(s.b)(null,{setViewingItem:f,toggleModal:p})(function(e){var t=e.item,a=e.item,n=a.date,r=a.book.title,c=a.quantity,i=e.setViewingItem,o=e.toggleModal;return l.a.createElement("tr",null,l.a.createElement("td",null,n),l.a.createElement("td",null,r),l.a.createElement("td",null,c),l.a.createElement("td",null,l.a.createElement(Qe,{onClick:function(){return i(t),void o("unfilled-view")},className:"inventory-view-details-button"})))});var wt=Object(ie.d)(Object(s.b)(function(e){var t=e.firestore.ordered.unfilledOrders;return t?{unfilledOrders:t}:{}}),Object(te.firestoreConnect)([{collection:"unfilledOrders"}]))(function(e){var t=e.unfilledOrders;return l.a.createElement("tbody",null,Object(te.isLoaded)(t)?Object(te.isEmpty)(t)?l.a.createElement("tr",null,l.a.createElement("td",{className:"empty-table-cell"},l.a.createElement("h4",null,"You have no Unfilled Orders"))):t.map(function(e){return l.a.createElement(kt,{item:e,key:e.id})}):l.a.createElement("tr",{className:"spinner-row"},l.a.createElement("td",{className:"spinner-cell"},l.a.createElement(Le,null))))});var _t=Object(ie.d)(Object(s.b)(function(e){var t=e.firestore.ordered.unfilledFiltered;return t?{unfilledFiltered:t}:{}}),Object(te.firestoreConnect)())(function(e){var t=e.unfilledFiltered,a=e.searchVal;return l.a.createElement("tbody",null,Object(te.isLoaded)(t)?Object(te.isEmpty)(t)?l.a.createElement("tr",null,l.a.createElement("td",{className:"empty-table-cell"},l.a.createElement("h4",null,a," returned no results!"))):t.map(function(e){return l.a.createElement(kt,{item:e,key:e.id})}):l.a.createElement("tr",{className:"spinner-row"},l.a.createElement("td",{className:"spinner-cell"},l.a.createElement(Le,null))))});var St=Object(s.b)(function(e){return{search_value:e.search.search_value}})(function(e){var t=e.search_value;return t?l.a.createElement("table",null,l.a.createElement(Ke,null),l.a.createElement(_t,{searchVal:t})):l.a.createElement("table",null,l.a.createElement(Ke,null),l.a.createElement(wt,null))});var Ct=Object(o.f)(function(e){var t=e.location.pathname;return l.a.createElement("div",{className:"widget-navigation-container"},"/orders"===t||l.a.createElement(i.b,{to:"/orders"},l.a.createElement("img",{className:"navigation-widget",src:S.a,alt:"Orders"}),l.a.createElement("h4",null,"Orders")),"/staff"===t||l.a.createElement(i.b,{to:"/staff"},l.a.createElement("img",{className:"navigation-widget",src:F.a,alt:"Staff"}),l.a.createElement("h4",null,"Staff")),"/sales"===t||l.a.createElement(i.b,{to:"/sales"},l.a.createElement("img",{className:"navigation-widget",src:L.a,alt:"Sales"}),l.a.createElement("h4",null,"Sales")),"/inventory"===t||l.a.createElement(i.b,{to:"/inventory"},l.a.createElement("img",{className:"navigation-widget",src:A.a,alt:"Inventory"}),l.a.createElement("h4",null,"Inventory")),"/search"===t||l.a.createElement(i.b,{to:"/search"},l.a.createElement("img",{className:"navigation-widget",src:R.a,alt:"Search"}),l.a.createElement("h4",null,"Search")))});var It=Object(s.b)(function(e){return{uid:e.firebase.auth.uid,modal_open:e.modal.modal_open}})(function(e){var t,a=e.uid,n=e.location.pathname,r=e.modal_open;return a?(r&&(t=l.a.createElement(Nt,null)),l.a.createElement("div",{className:"admin-full-page-container"},t,l.a.createElement("div",{className:"topbar-container"},l.a.createElement(We,null),l.a.createElement(Ct,{pathname:n})),l.a.createElement("div",{className:"admin-content-container orders-content-container"},l.a.createElement(Ge,{value:"Orders"}),l.a.createElement(Ye,null),l.a.createElement("div",{className:"orders-tables-content"},l.a.createElement("div",{className:"unfilled-orders-content"},l.a.createElement("h2",null,"Unfilled"),l.a.createElement(St,null),l.a.createElement(jt,{placeholder:"Search by Date",type:"unfilled"})),l.a.createElement("div",{className:"filled-orders-content"},l.a.createElement("h2",null,"Filled"),l.a.createElement(Ze,null),l.a.createElement(jt,{placeholder:"Search by Date",type:"filled",second:!0})))))):l.a.createElement(o.a,{to:"/"})});var Ft=function(){return l.a.createElement("thead",null,l.a.createElement("tr",null,l.a.createElement("td",null,"Date"),l.a.createElement("td",null,"Quantity"),l.a.createElement("td",null,"Income"),l.a.createElement("td",null)))};var xt=Object(s.b)(null,{setViewingItem:f,toggleModal:p})(function(e){var t=e.item,a=e.item,n=a.date,r=a.quantity,c=a.income,i=e.setViewingItem,o=e.toggleModal;return l.a.createElement("tr",null,l.a.createElement("td",null,n),l.a.createElement("td",null,r),l.a.createElement("td",null,c),l.a.createElement("td",null,l.a.createElement(Qe,{onClick:function(){return i(t),void o("view")},className:"inventory-view-details-button"})))});var Mt=Object(ie.d)(Object(s.b)(function(e){var t=e.firestore.ordered.sales;return t?{sales:t}:{}}),Object(te.firestoreConnect)([{collection:"sales"}]))(function(e){var t=e.sales;return l.a.createElement("table",null,l.a.createElement(Ft,null),l.a.createElement("tbody",null,Object(te.isLoaded)(t)?Object(te.isEmpty)(t)?l.a.createElement("tr",null,l.a.createElement("td",{className:"empty-table-cell"},l.a.createElement("h4",null,"You have no recorded sales"))):t.map(function(e){return l.a.createElement(xt,{item:e,key:e.id})}):l.a.createElement("tr",{className:"spinner-row"},l.a.createElement("td",null,l.a.createElement(Le,null)))))});var Lt=function(){return l.a.createElement("div",{className:"chart-container"},l.a.createElement(et.b,{data:{labels:["04/06","05/06","06/06","07/06","08/06","09/06","10/06"],datasets:[{label:"Income per Day",fill:!0,lineTension:.1,backgroundColor:"rgba(75,192,192,0.4)",borderColor:"rgba(75,192,192,1)",borderCapStyle:"butt",borderDash:[],borderDashOffset:0,borderJoinStyle:"miter",pointBorderColor:"rgba(75,192,192,1)",pointBackgroundColor:"#fff",pointBorderWidth:1,pointHoverRadius:5,pointHoverBackgroundColor:"rgba(75,192,192,1)",pointHoverBorderColor:"rgba(220,220,220,1)",pointHoverBorderWidth:2,pointRadius:1,pointHitRadius:10,data:[93.54,103.45,82.34,132.93,110.38,190.43,78.23]}]},options:{scales:{yAxes:[{scaleLabel:{display:!0,fontSize:16,labelString:"\xa3 / Day"}}],xAxes:[{scaleLabel:{display:!0,fontSize:16,labelString:"Date"}}]}}}))};var Dt=Object(s.b)(function(e){var t=e.firebase.auth.uid;return{modal_open:e.modal.modal_open,uid:t}})(function(e){var t,a=e.modal_open;return e.uid?(a&&(t=l.a.createElement(Nt,null)),l.a.createElement("div",{className:"admin-full-page-container"},t,l.a.createElement("div",{className:"topbar-container"},l.a.createElement(We,null),l.a.createElement(Ct,null)),l.a.createElement("div",{className:"admin-content-container"},l.a.createElement(Ge,{value:"Sales"}),l.a.createElement("div",{className:"sales-page-content"},l.a.createElement("div",{className:"recent-sales-table-container"},l.a.createElement("h2",null,"Recent"),l.a.createElement(Mt,null)),l.a.createElement("div",{className:"sales-graph-container"},l.a.createElement("h2",null,"Weekly Sales"),l.a.createElement(Lt,null)))))):l.a.createElement(o.a,{to:"/"})});var Tt=Object(s.b)(null,{toggleModal:p})(function(e){var t=e.toggleModal;return l.a.createElement("div",{className:"add-member-group",onClick:function(){t("add")}},l.a.createElement("h2",null,"Add Member"),l.a.createElement(we,null))});var At=Object(s.b)(null,{setViewingItem:f,toggleModal:p})(function(e){var t=e.member,a=e.member,n=a.imageLocation,r=a.firstName,c=a.surname,i=a.position,o=a.dob,s=e.toggleModal,u=e.setViewingItem;return l.a.createElement("tr",null,l.a.createElement("td",null,l.a.createElement("img",{src:n,className:"staff-list-member-img",alt:"profile"})),l.a.createElement("td",null,r," ",c),l.a.createElement("td",null,i),l.a.createElement("td",null,o),l.a.createElement("td",null,l.a.createElement(Qe,{onClick:function(){return u(t),void s("view")}})))});var Vt=Object(ie.d)(Object(s.b)(function(e){return e.firestore.ordered.staff?{data:e.firestore.ordered.staff}:{}}),Object(te.firestoreConnect)([{collection:"staff",orderBy:"surname"}]))(function(e){var t=e.data;return l.a.createElement("table",{className:"staff-table"},l.a.createElement("thead",null,l.a.createElement("tr",{className:"staff-table-headings"},l.a.createElement("td",null),l.a.createElement("td",null,"Name"),l.a.createElement("td",null,"Position"),l.a.createElement("td",null,"DOB"))),l.a.createElement("tbody",null,t?t.map(function(e){return l.a.createElement(At,{member:e,key:e.id})}):l.a.createElement("tr",{className:"spinner-row"},l.a.createElement("td",null,l.a.createElement(Le,null)))))});var qt=Object(s.b)(function(e){var t=e.firebase,a=t.auth.uid,n=t.profile.permissions;return{uid:a,modal_open:e.modal.modal_open,permissions:n}})(function(e){var t,a=e.modal_open,n=e.permissions;return e.uid?(a&&(t=l.a.createElement(Nt,null)),l.a.createElement("div",{className:"admin-full-page-container"},t,l.a.createElement("div",{className:"topbar-container"},l.a.createElement(We,null),l.a.createElement(Ct,null)),l.a.createElement("div",{className:"admin-content-container"},l.a.createElement(Ge,{value:"Staff"}),"all"===n&&l.a.createElement(Tt,null),l.a.createElement(Vt,null)))):l.a.createElement(o.a,{to:"/"})}),Rt=function(e){function t(e){var a;return Object(X.a)(this,t),(a=Object(Z.a)(this,Object($.a)(t).call(this,e))).state={error:null,errorInfo:null},a}return Object(ee.a)(t,e),Object(K.a)(t,[{key:"render",value:function(){var e=this.state.error,t=this.props.children;return e?l.a.createElement("div",null,l.a.createElement("h2",null,"Oh-no! Something went wrong"),l.a.createElement("p",{className:"red"},e&&e.toString())):t}}],[{key:"getDerivedStateFromError",value:function(e){return{error:e}}}]),t}(n.Component);var Pt=Object(s.b)(function(e){return{search_type:e.search.search_type}})(function(e){var t=e.item,a=t.author,n=t.book,r=t.company,c=t.date,i=t.dateFilled,o=t.email,s=t.firstName,u=t.fullName,m=t.genre,d=t.imageLocation,E=t.position,f=t.publicationDate,p=t.title,b=t.toBeFilled,v=e.search_type;return"inventory"===v?l.a.createElement("div",{className:"search-item"},l.a.createElement("img",{className:"search-item-img",src:d,alt:"book"}),l.a.createElement("p",null,p),l.a.createElement("p",null,a),l.a.createElement("p",null,m),l.a.createElement("p",null,f)):"staff"===v?l.a.createElement("div",{className:"search-item"},l.a.createElement("img",{className:"search-item-img",src:d,alt:s}),l.a.createElement("p",null,u),l.a.createElement("p",null,E),l.a.createElement("p",null,o)):"orders"===v?l.a.createElement("div",{className:"search-item"},l.a.createElement("p",null,n.title," by ",n.author),l.a.createElement("p",null,"From: ",r),l.a.createElement("p",null,"Ordered: ",c),l.a.createElement("p",null,b?"Arriving: ".concat(b):"Filled: ".concat(i))):void 0});var Bt=Object(s.b)(function(e){return{ordered:e.firestore.ordered,search_value:e.search.search_value}},null)(function(e){var t,a=e.ordered,n=a.filledOrdersFiltered,r=a.unfilledOrdersFiltered,c=a.authorFiltered,i=a.titleFiltered,o=a.firstNameFiltered,s=a.fullNameFiltered,u=e.search_value;return n||r||c||i||o||s?r&&r.length?t=l.a.createElement(l.a.Fragment,null,r.map(function(e){return l.a.createElement(Pt,{key:e.id,item:e})})):n&&n.length?t=l.a.createElement(l.a.Fragment,null,n.map(function(e){return l.a.createElement(Pt,{key:e.id,item:e})})):c&&c.length?t=l.a.createElement(l.a.Fragment,null,c.map(function(e){return l.a.createElement(Pt,{key:e.id,item:e})})):i&&i.length?t=l.a.createElement(l.a.Fragment,null,i.map(function(e){return l.a.createElement(Pt,{key:e.id,item:e})})):o&&o.length?t=l.a.createElement(l.a.Fragment,null,o.map(function(e){return l.a.createElement(Pt,{key:e.id,item:e})})):u&&(t=l.a.createElement("h5",{className:"empty-search-message"},"No results found!")):s&&s.length?t=l.a.createElement(l.a.Fragment,null,s.map(function(e){return l.a.createElement(Pt,{key:e.id,item:e})})):u&&(t=l.a.createElement("h5",{className:"empty-search-message"},"No results found!")),l.a.createElement(l.a.Fragment,null,t)});var Ut=Object(s.b)(null,{setSearchType:function(e){return{type:"SEARCH_TYPE",payload:e}}})(function(e){var t=e.setSearchType;function a(e){t(e.target.id)}return Object(n.useEffect)(function(){return function(){t(null)}}),l.a.createElement(l.a.Fragment,null,l.a.createElement("div",{className:"input-label-group"},l.a.createElement("input",{type:"radio",name:"settings",id:"orders",onClick:function(e){return a(e)}}),l.a.createElement("label",{htmlFor:"orders"},"Orders")),l.a.createElement("div",{className:"input-label-group"},l.a.createElement("input",{type:"radio",name:"settings",id:"staff",onClick:function(e){return a(e)}}),l.a.createElement("label",{htmlFor:"staff"},"Staff")),l.a.createElement("div",{className:"input-label-group"},l.a.createElement("input",{type:"radio",name:"settings",id:"inventory",onClick:function(e){return a(e)}}),l.a.createElement("label",{htmlFor:"search"},"Inventory")))});var Ht=Object(ie.d)(Object(te.firestoreConnect)(),Object(s.b)(function(e){var t=e.search;return{search_type:t.search_type,search_value:t.search_value}},{setSearchValue:Ot}))(function(e){var t=e.firestore,a=e.search_type,n=e.search_value,r=e.setSearchValue;switch(a){case"staff":t.get({collection:"staff",where:["firstName","==",n],storeAs:"fullNameFiltered"}),t.get({collection:"staff",where:["fullName","==",n],storeAs:"firstNameFiltered"});break;case"inventory":t.get({collection:"books",where:["title","==",n],storeAs:"titleFiltered"}),t.get({collection:"books",where:["author","==",n],storeAs:"authorFiltered"});break;case"orders":t.get({collection:"unfilledOrders",where:["date","==",n],storeAs:"unfilledOrdersFiltered"}),t.get({collection:"filledOrders",where:["filledDate","==",n],storeAs:"filledOrdersFiltered"})}return l.a.createElement(l.a.Fragment,null,l.a.createElement("div",{className:"search-bar-group"},l.a.createElement("input",{type:"text",name:"search",onChange:function(e){return r(e.target.value)},placeholder:"orders"===a?"search orders by date...":"inventory"===a?"search by title or author...":"staff"===a?"search by member name...":"select a search option!",disabled:!a}),l.a.createElement(yt,null)),l.a.createElement("div",{className:"search-options"},l.a.createElement(Ut,null)))});var Gt=Object(s.b)(function(e){return{uid:e.firebase.auth.uid}})(function(e){return e.uid?l.a.createElement("div",{className:"admin-full-page-container"},l.a.createElement("div",{className:"topbar-container"},l.a.createElement(We,null),l.a.createElement(Ct,null)),l.a.createElement("div",{className:"admin-content-container"},l.a.createElement(Rt,null,l.a.createElement(Ge,{value:"Search"}),l.a.createElement(Ht,null),l.a.createElement("div",{className:"search-results-group"},l.a.createElement(Bt,null))))):l.a.createElement(o.a,{to:"/"})});var Yt=Object(s.b)(null,{setViewingItem:f,toggleModal:p})(function(e){var t=e.item,a=e.item,n=a.title,r=a.author,c=a.quantity,i=a.imageLocation,o=a.salePrice,s=e.setViewingItem,u=e.toggleModal;return l.a.createElement("tr",null,l.a.createElement("td",null,l.a.createElement("img",{src:i,className:"iventory-item-img",alt:"book"})),l.a.createElement("td",null,r),l.a.createElement("td",null,n),l.a.createElement("td",null,c),l.a.createElement("td",null,o),l.a.createElement("td",null,l.a.createElement(Qe,{onClick:function(){return function(e){s(e),u("view")}(t)}})))});var Wt=Object(ie.d)(Object(s.b)(function(e){var t=e.firestore.ordered.books;return t?{books:t}:{}}),Object(te.firestoreConnect)([{collection:"books",orderBy:["author"]}]))(function(e){var t=e.books;return l.a.createElement("tbody",null,Object(te.isLoaded)(t)?Object(te.isEmpty)(t)?l.a.createElement("tr",null,l.a.createElement("td",{className:"empty-table-cell"},l.a.createElement("h4",null,"You have no books in your inventory!"))):t.map(function(e){return l.a.createElement(Yt,{item:e,key:e.id})}):l.a.createElement("tr",{className:"spinner-row"},l.a.createElement("td",null,l.a.createElement(Le,null))))});var Qt=Object(s.b)(function(e){var t=e.firestore.ordered,a=t.authorFiltered,n=t.titleFiltered;return a&&n?{authorFiltered:a,titleFiltered:n}:{}})(function(e){var t=e.authorFiltered,a=e.titleFiltered,n=e.searchVal;return l.a.createElement("tbody",null,Object(te.isLoaded)(t)||Object(te.isLoaded)(a)?Object(te.isEmpty)(t)&&Object(te.isEmpty)(a)?l.a.createElement("tr",null,l.a.createElement("td",{className:"empty-table-cell"},l.a.createElement("h4",null,n," returned no results!"))):t.length?t.map(function(e){return l.a.createElement(Yt,{item:e,key:e.id})}):a.map(function(e){return l.a.createElement(Yt,{item:e,key:e.id})}):l.a.createElement("tr",{className:"spinner-row"},l.a.createElement("td",null,l.a.createElement(Le,null))))});var zt=function(){return l.a.createElement("thead",null,l.a.createElement("tr",{className:"inventory-table-headings"},l.a.createElement("td",null),l.a.createElement("td",null,"Author"),l.a.createElement("td",null,"Title"),l.a.createElement("td",null,"Quantity"),l.a.createElement("td",null,"Sale Price"),l.a.createElement("td",null)))};var Jt=Object(s.b)(function(e){return{search_value:e.search.search_value}})(function(e){var t=e.search_value;return t?l.a.createElement("table",{className:"inventory-table"},l.a.createElement(zt,null),l.a.createElement(Qt,{searchVal:t})):l.a.createElement("table",{className:"inventory-table"},l.a.createElement(zt,null),l.a.createElement(Wt,null))});var Xt=Object(ie.d)(Object(s.b)(function(e){var t=e.firestore.ordered.books;return t?{books:t}:{}}),Object(te.firestoreConnect)([{collection:"books"}]))(function(e){var t=e.books;return Object(n.useEffect)(function(){if(t){var e=document.querySelector(".inventory-progress-bar-fiction"),a=document.querySelector(".inventory-progress-bar-nonfiction"),n=t.length,l=t.filter(function(e){return"fiction"===e.genre||"Fiction"===e.genre}),r=t.filter(function(e){return"non-fiction"===e.genre||"Non-Fiction"===e.genre});e.style.width="".concat(l.length/n*100,"%"),a.style.width="".concat(r.length/n*100,"%")}}),l.a.createElement("div",{className:"inventory-progress-bar-group"},l.a.createElement("div",{className:"inventory-progress-bar inventory-progress-bar-fiction",role:"progressbar"},"\xa0"),l.a.createElement("div",{className:"inventory-progress-bar inventory-progress-bar-nonfiction",role:"progressbar"},"\xa0"))});var Kt=Object(ie.d)(Object(s.b)(function(e){var t=e.firestore.ordered.books;return t?{books:t}:{}},{toggleModal:p}),Object(te.firestoreConnect)([{collection:"books"}]))(function(e){var t=e.books,a=e.toggleModal;return l.a.createElement("div",{className:"inventory-summary-content-container"},l.a.createElement("h3",null,"Total Books: ",t&&t.length),l.a.createElement("div",{className:"inventory-summary-progress-bar-button"},l.a.createElement(Xt,null),l.a.createElement(ct,{value:"See Inventory Summary",onClick:function(){return a("summary"),void document.addEventListener("click",function e(t){t.target.contains(document.querySelector(".modal-overlay"))&&(a(""),document.removeEventListener("click",e))})}})),l.a.createElement("div",{className:"inventory-summary-genre-item"},l.a.createElement("span",{className:"circle"},"\xa0"),l.a.createElement("h5",null,"Fiction"),l.a.createElement("span",{className:"circle"},"\xa0"),l.a.createElement("h5",null,"Non-Fiction")))});var Zt=Object(s.b)(function(e){return{uid:e.firebase.auth.uid,modal_open:e.modal.modal_open}},{setSearchValue:Ot})(function(e){var t,a=e.uid,n=e.modal_open;return a?(n&&(t=l.a.createElement(Nt,null)),l.a.createElement("div",{className:"admin-full-page-container"},t,l.a.createElement("div",{className:"topbar-container"},l.a.createElement(We,null),l.a.createElement(Ct,null)),l.a.createElement("div",{className:"admin-content-container inventory-content-container"},l.a.createElement(Ge,{value:"Inventory"}),l.a.createElement(Kt,null),l.a.createElement(Jt,null),l.a.createElement(jt,{placeholder:"Search by Author or Title",type:"inventory"})))):l.a.createElement(o.a,{to:"/"})});a(416);var $t=function(){return l.a.createElement(i.a,{basename:"/orinda-books"},l.a.createElement(o.d,null,l.a.createElement(o.b,{exact:!0,path:"/",component:E}),l.a.createElement(o.b,{exact:!0,path:"/dashboard",component:U}),l.a.createElement(o.b,{exact:!0,path:"/profile",component:J}),l.a.createElement(o.b,{exact:!0,path:"/profile/edit",component:ce}),l.a.createElement(o.b,{exact:!0,path:"/tasks",component:Ce}),l.a.createElement(o.b,{exact:!0,path:"/events",component:Re}),l.a.createElement(o.b,{exact:!0,path:"/settings",component:Ue}),l.a.createElement(o.b,{exact:!0,path:"/settings/edit",component:He}),l.a.createElement(o.b,{exact:!0,path:"/orders",component:It}),l.a.createElement(o.b,{exact:!0,path:"/staff",component:qt}),l.a.createElement(o.b,{exact:!0,path:"/sales",component:Dt}),l.a.createElement(o.b,{exact:!0,path:"/search",component:Gt}),l.a.createElement(o.b,{exact:!0,path:"/inventory",component:Zt})))},ea=a(230),ta=a(64),aa=a(49),na=a.n(aa),la=(a(443),a(447),a(450),a(453),{apiKey:"AIzaSyA-B0QeVh9nEPbW1MS9UZ3pke5hhjiK9nk",authDomain:"orinda-books.firebaseapp.com",databaseURL:"https://orinda-books.firebaseio.com",projectId:"orinda-books",storageBucket:"orinda-books.appspot.com",messagingSenderId:"401638197729",appId:"1:401638197729:web:fdf288bbb461dc56"}),ra=a(13),ca={},ia=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:ca,t=arguments.length>1?arguments[1]:void 0;switch(t.type){case"LOGIN_ERROR":return Object(ra.a)({},e,{login_error:t.payload});case"LOGIN_SUCCESS":return Object(ra.a)({},e,{login_error:null});case"LOGOUT_SUCCESS":default:return e;case"PASSWORD_RESET_ERROR":return Object(ra.a)({},e,{password_error:t.payload})}},oa=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},t=arguments.length>1?arguments[1]:void 0;switch(t.type){case"SET_EDIT_TYPE":return Object(ra.a)({},e,{edit_type:t.payload});default:return e}},sa=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},t=arguments.length>1?arguments[1]:void 0;switch(t.type){case"DETAIL_EVENT":return Object(ra.a)({},e,{detail_event:t.payload});default:return e}},ua={search_value:"",secondary_search_value:""},ma=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:ua,t=arguments.length>1?arguments[1]:void 0;switch(t.type){case"SEARCH_TYPE":return Object(ra.a)({},e,{search_type:t.payload});case"SEARCH_VALUE":return Object(ra.a)({},e,{search_value:t.payload});case"SECONDARY_SEARCH_VALUE":return Object(ra.a)({},e,{secondary_search_value:t.payload});default:return e}},da={modal_open:!1},Ea=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:da,t=arguments.length>1?arguments[1]:void 0;switch(t.type){case"SET_MODAL_TYPE":return Object(ra.a)({},e,{modal_type:t.payload});case"TOGGLE_MODAL":return Object(ra.a)({},e,{modal_open:!e.modal_open,modal_type:t.payload});case"VIEW_ITEM":return Object(ra.a)({},e,{view_item:t.payload});default:return e}},fa=Object(ie.c)({auth:ia,edit:oa,events:sa,firebase:te.firebaseReducer,firestore:ta.firestoreReducer,search:ma,modal:Ea});na.a.initializeApp(la),na.a.firestore();var pa=Object(ie.d)(Object(te.reactReduxFirebase)(na.a,{attachAuthIsReady:!0,userProfile:"users",useFirestoreForProfile:!0}),Object(ta.reduxFirestore)(na.a))(ie.e)(fa,{},Object(ie.d)(Object(te.reactReduxFirebase)(na.a),Object(ie.a)(ea.a.withExtraArgument({getFirebase:te.getFirebase,getFirestore:ta.getFirestore})),window.__REDUX_DEVTOOLS_EXTENSION__&&window.__REDUX_DEVTOOLS_EXTENSION__()));pa.firebaseAuthIsReady.then(function(){c.a.render(l.a.createElement(s.a,{store:pa},l.a.createElement($t,null)),document.getElementById("root"))})},47:function(e,t,a){e.exports=a.p+"static/media/search.8817ca0e.png"},93:function(e,t,a){e.exports=a.p+"static/media/orders.4304f432.png"},94:function(e,t,a){e.exports=a.p+"static/media/staff.49153feb.png"},95:function(e,t,a){e.exports=a.p+"static/media/sales.0bc27cf2.png"},96:function(e,t,a){e.exports=a.p+"static/media/inventory.9eec37f0.png"}},[[231,1,2]]]);
//# sourceMappingURL=main.eea96c2d.chunk.js.map